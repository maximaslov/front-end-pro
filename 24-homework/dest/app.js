class AlbumApi{static LIST_API="https://jsonplaceholder.typicode.com/albums/";static ALBUMS_API="https://jsonplaceholder.typicode.com/photos?albumId=";static request(t,e){return fetch(t+e).then(t=>{if(t.ok)return t.json();throw new Error})}}const ALBUM_ITEM_CLASS="albums__album-item",album=document.querySelector(".albums__list"),images=document.querySelector(".albums__images");function onAlbumItemClick(t){const e=t.target;t=e.dataset.id;e.classList.contains(ALBUM_ITEM_CLASS)&&showAlbum(t)}function showAlbum(t){return AlbumApi.request(AlbumApi.ALBUMS_API,t).then(t=>t.map(t=>{generateAlbum(t),addItemsToHtml(t,images,generateAlbum)}))}function generateAlbumList(t){return`
    <li><a href="#" data-id="${t.id}" class="albums__album-item">${t.title}</a></li>
    `}function generateAlbum(t){t=t.url;return`
        <img class="album__img src="${t}" alt="${t}">
    `}function addItemsToHtml(t,e,l){e.insertAdjacentHTML("afterbegin",l(t))}showAlbum(1),album.addEventListener("click",onAlbumItemClick),AlbumApi.request(AlbumApi.LIST_API,"").then(t=>t.map(t=>{generateAlbumList(t),addItemsToHtml(t,album,generateAlbumList)})).catch(t=>alert(t.message));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFsYnVtQXBpLmpzIiwic2NyaXB0LmpzIl0sIm5hbWVzIjpbIkFsYnVtQXBpIiwiTElTVF9BUEkiLCJBTEJVTVNfQVBJIiwicmVxdWVzdCIsInVybCIsImlkIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiRXJyb3IiLCJBTEJVTV9JVEVNX0NMQVNTIiwiYWxidW0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbWFnZXMiLCJvbkFsYnVtSXRlbUNsaWNrIiwiZSIsImVsZW0iLCJ0YXJnZXQiLCJkYXRhc2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzaG93QWxidW0iLCJhbGJ1bUl0ZW0iLCJtYXAiLCJnZW5lcmF0ZUFsYnVtIiwiZWxlbWVudCIsImFkZEl0ZW1zVG9IdG1sIiwiZ2VuZXJhdGVBbGJ1bUxpc3QiLCJ0aXRsZSIsInBsYWNlIiwiZm4iLCJpbnNlcnRBZGphY2VudEhUTUwiLCJhZGRFdmVudExpc3RlbmVyIiwibGlzdEl0ZW0iLCJjYXRjaCIsImVycm9yIiwiYWxlcnQiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiTUFBQUEsU0FDQUMsZ0JBQUEsK0NBQ0FDLGtCQUFBLHVEQUVBQyxlQUFBQyxFQUFBQyxHQUNBLE9BQUFDLE1BQUFGLEVBQUFDLENBQUEsRUFDQUUsS0FBQUMsSUFDQSxHQUFBQSxFQUFBQyxHQUNBLE9BQUFELEVBQUFFLEtBQUEsRUFFQSxNQUFBLElBQUFDLEtBQ0EsQ0FBQSxDQUNBLENBQ0EsQ0NYQSxNQUFBQyxpQkFBQSxxQkFFQUMsTUFBQUMsU0FBQUMsY0FBQSxlQUFBLEVBQ0FDLE9BQUFGLFNBQUFDLGNBQUEsaUJBQUEsRUFhQSxTQUFBRSxpQkFBQUMsR0FDQSxNQUFBQyxFQUFBRCxFQUFBRSxPQUNBZixFQUFBYyxFQUFBRSxRQUFBaEIsR0FDQWMsRUFBQUcsVUFBQUMsU0FBQVgsZ0JBQUEsR0FDQVksVUFBQW5CLENBQUEsQ0FFQSxDQUVBLFNBQUFtQixVQUFBbkIsR0FDQSxPQUFBTCxTQUFBRyxRQUFBSCxTQUFBRSxXQUFBRyxDQUFBLEVBQ0FFLEtBQUFrQixHQUFBQSxFQUFBQyxJQUFBUixJQUVBUyxjQUFBQyxDQUFBLEVBQ0FDLGVBQUFELEVBQUFaLE9BQUFXLGFBQUEsQ0FDQSxDQUFBLENBQUEsQ0FDQSxDQUVBLFNBQUFHLGtCQUFBRixHQUdBOytCQUZBQSxFQUFBdkIsa0NBQ0F1QixFQUFBRztLQUlBLENBRUEsU0FBQUosY0FBQUMsR0FDQXhCLEVBQUF3QixFQUFBeEIsSUFDQTtzQ0FDQUEsV0FBQUE7S0FFQSxDQUVBLFNBQUF5QixlQUFBRCxFQUFBSSxFQUFBQyxHQUNBRCxFQUFBRSxtQkFBQSxhQUFBRCxFQUFBTCxDQUFBLENBQUEsQ0FDQSxDQTdDQUosVUFBQSxDQUFBLEVBQ0FYLE1BQUFzQixpQkFBQSxRQUFBbEIsZ0JBQUEsRUFFQWpCLFNBQUFHLFFBQUFILFNBQUFDLFNBQUEsRUFBQSxFQUNBTSxLQUFBNkIsR0FBQUEsRUFBQVYsSUFBQVIsSUFFQVksa0JBQUFGLENBQUEsRUFDQUMsZUFBQUQsRUFBQWYsTUFBQWlCLGlCQUFBLENBQ0EsQ0FBQSxDQUFBLEVBQ0FPLE1BQUFDLEdBQUFDLE1BQUFELEVBQUFFLE9BQUEsQ0FBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBBbGJ1bUFwaSB7XG4gICAgc3RhdGljIExJU1RfQVBJID0gJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9hbGJ1bXMvJztcbiAgICBzdGF0aWMgQUxCVU1TX0FQSSA9ICdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcGhvdG9zP2FsYnVtSWQ9JztcblxuICAgIHN0YXRpYyByZXF1ZXN0KHVybCwgaWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCArIGlkKVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBBTEJVTV9JVEVNX0NMQVNTID0gJ2FsYnVtc19fYWxidW0taXRlbSc7XG5cbmNvbnN0IGFsYnVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsYnVtc19fbGlzdCcpO1xuY29uc3QgaW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsYnVtc19faW1hZ2VzJyk7XG5cbnNob3dBbGJ1bSgxKTtcbmFsYnVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25BbGJ1bUl0ZW1DbGljayk7XG5cbkFsYnVtQXBpLnJlcXVlc3QoQWxidW1BcGkuTElTVF9BUEksICcnKVxuICAgIC50aGVuKGxpc3RJdGVtID0+IGxpc3RJdGVtLm1hcChlID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGU7XG4gICAgICAgIGdlbmVyYXRlQWxidW1MaXN0KGVsZW1lbnQpO1xuICAgICAgICBhZGRJdGVtc1RvSHRtbChlbGVtZW50LCBhbGJ1bSwgZ2VuZXJhdGVBbGJ1bUxpc3QpXG4gICAgfSkpXG4gICAgLmNhdGNoKGVycm9yID0+IGFsZXJ0KGVycm9yLm1lc3NhZ2UpKTtcblxuZnVuY3Rpb24gb25BbGJ1bUl0ZW1DbGljayhlKSB7XG4gICAgY29uc3QgZWxlbSA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IGlkID0gZWxlbS5kYXRhc2V0LmlkO1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucyhBTEJVTV9JVEVNX0NMQVNTKSkge1xuICAgICAgICBzaG93QWxidW0oaWQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hvd0FsYnVtKGlkKSB7XG4gICAgcmV0dXJuIEFsYnVtQXBpLnJlcXVlc3QoQWxidW1BcGkuQUxCVU1TX0FQSSwgaWQpXG4gICAgICAgIC50aGVuKGFsYnVtSXRlbSA9PiBhbGJ1bUl0ZW0ubWFwKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGU7XG4gICAgICAgICAgICBnZW5lcmF0ZUFsYnVtKGVsZW1lbnQpO1xuICAgICAgICAgICAgYWRkSXRlbXNUb0h0bWwoZWxlbWVudCwgaW1hZ2VzLCBnZW5lcmF0ZUFsYnVtKVxuICAgICAgICB9KSlcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVBbGJ1bUxpc3QoZWxlbWVudCkge1xuICAgIGNvbnN0IGlkID0gZWxlbWVudC5pZDtcbiAgICBjb25zdCB0aXRsZSA9IGVsZW1lbnQudGl0bGU7XG4gICAgcmV0dXJuIGBcbiAgICA8bGk+PGEgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJHtpZH1cIiBjbGFzcz1cImFsYnVtc19fYWxidW0taXRlbVwiPiR7dGl0bGV9PC9hPjwvbGk+XG4gICAgYFxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUFsYnVtKGVsZW1lbnQpIHtcbiAgICBjb25zdCB1cmwgPSBlbGVtZW50LnVybDtcbiAgICByZXR1cm4gYFxuICAgICAgICA8aW1nIGNsYXNzPVwiYWxidW1fX2ltZyBzcmM9XCIke3VybH1cIiBhbHQ9XCIke3VybH1cIj5cbiAgICBgXG59XG5cbmZ1bmN0aW9uIGFkZEl0ZW1zVG9IdG1sKGVsZW1lbnQsIHBsYWNlLCBmbikge1xuICAgIHBsYWNlLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicgLCBmbihlbGVtZW50KSlcbn1cbiJdfQ==